<!DOCTYPE html>
<html>
	<head>
		Maps:
	</head>
	<script>
		// Create WebSocket connection.
		const socket = new WebSocket("ws://192.168.178.50:8081", ["echo-protocol"]);

		// Connection opened
		socket.addEventListener("open", event => {
			socket.send("Hello from control Client!");
		});

		// Listen for messages
		socket.addEventListener("message", event => {
			console.log("Message from server ", event.data);
		});

		const maps = ["Faerun", "Naerytar Dungeon"];
		const buttons = [];

		maps.forEach((mapName, i) => {
			const button = document.createElement("button");
			button.innerText = mapName;
			button.addEventListener("click", () => {
				console.log("click", mapName);
				socket.send(JSON.stringify({ type: "showMap", data: mapName }));
			});
			document.body.appendChild(button);
			buttons[i] = button;
		});
	</script>
	<body>
		<noscript>
			For full functionality of this site it is necessary to enable JavaScript. Here are the
			<a href="https://www.enablejavascript.io/">
				instructions how to enable JavaScript in your web browser</a
			>.
		</noscript>
	</body>
</html>
